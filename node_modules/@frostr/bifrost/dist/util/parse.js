export var Parse;
(function (Parse) {
    function error(err) {
        if (err instanceof Error)
            return err.message;
        if (typeof err === 'string')
            return err;
        return String(err);
    }
    Parse.error = error;
    function data(data, schema) {
        return schema.safeParse(data);
    }
    Parse.data = data;
    function array(data, schema) {
        const parsed = data.map(e => schema.safeParse(e));
        const errors = parsed
            .filter(e => !e.success)
            .map(e => e.error.errors.map(x => `${x.message}: ${x.path}`));
        return (errors.length !== 0)
            ? { ok: false, errors }
            : { ok: true, data: parsed.map(e => e.data) };
    }
    Parse.array = array;
})(Parse || (Parse = {}));
